{"version":3,"file":"main.js","mappings":"mBAAA,SAASA,EAAUC,GAOhB,IANDC,EAAYD,EAAZC,aACAC,EAAQF,EAARE,SACAC,EAAcH,EAAdG,eACAC,EAAYJ,EAAZI,aACAC,EAAUL,EAAVK,WACAC,EAAON,EAAPM,QAEMC,EAAON,EAAaO,cAAc,iBAAiBC,WAAU,GAC7DC,EAAYH,EAAKC,cAAc,gBAC/BG,EAAYJ,EAAKC,cAAc,gBAC/BI,EAAeL,EAAKC,cAAc,wBAClCK,EAAaN,EAAKC,cAAc,sBAChCM,EAAYP,EAAKC,cAAc,uBAgCrC,OA9BAG,EAAUI,iBAAiB,SAAS,kBAClCZ,EAAe,CAAEa,KAAMd,EAASc,KAAMC,KAAMf,EAASe,MAAO,IAE9DJ,EAAWE,iBAAiB,SAAS,kBACnCV,EAAW,CACTa,OAAQhB,EAAc,IACtBiB,QAASL,EACTM,cAAeP,GACf,IAEAX,EAASmB,MAAMC,MAAQhB,IACzBM,EAAaW,UAAUC,IAAI,8BAC3BZ,EAAaG,iBAAiB,SAAS,kBACrCX,EAAa,CAAEqB,GAAIvB,EAASoB,IAAKf,KAAAA,GAAO,KAG5CL,EAASwB,MAAMC,OACVb,EAAUc,YAAc1B,EAASwB,MAAMC,OACvCb,EAAUc,YAAc,GAE7BlB,EAAUkB,YAAc1B,EAASe,KACjCN,EAAUkB,aAAa,MAAO3B,EAASc,MACvCL,EAAUkB,aAAa,MAAO3B,EAASe,MAEvCf,EAASwB,MAAMI,SAAQ,SAACC,GAClBA,EAAUT,MAAQhB,GACpBO,EAAWU,UAAUC,IAAI,8BAE7B,IAEOjB,CACT,CC9CA,IAAMyB,EAAS,CACbC,QAAS,6CACTC,QAAS,CACPC,cAAe,uCACf,eAAgB,qBAIpB,SAASC,EAAWC,GAClB,OAAOA,EAAIC,GAAKD,EAAIE,OAASC,QAAQC,OAAO,SAADC,OAAUL,EAAIM,QAC3D,CCVA,SAASC,EAAUC,GACjBA,EAAMtB,UAAUC,IAAI,mBACpBsB,SAAS/B,iBAAiB,UAAWgC,EACvC,CAEA,SAASC,EAAWH,GAClBA,EAAMtB,UAAU0B,OAAO,mBACvBH,SAASI,oBAAoB,UAAWH,EAC1C,CACA,SAASA,EAAcI,GACP,WAAVA,EAAEC,KAEJJ,EADcF,SAAStC,cAAc,oBAGzC,CCFA,SAAS6C,EAAcC,GAKpB,IAJDC,EAAWD,EAAXC,YACAC,EAAYF,EAAZE,aACAC,EAAeH,EAAfG,gBACAC,EAAUJ,EAAVI,WAEMC,EAAeJ,EAAY/C,cAAc,IAADkC,OAAKc,EAAa/B,GAAE,WAClEkC,EAAapC,UAAU0B,OAAOS,GAC9BC,EAAa/B,YAAc,GAC3B4B,EAAajC,UAAU0B,OAAOQ,EAChC,CAuBA,SAASG,EAAYC,GAA0D,IAAvDC,EAASD,EAATC,UAAWC,EAAmBF,EAAnBE,oBAAqBC,EAAmBH,EAAnBG,oBAClDF,EAAUG,MAAK,SAACC,GAAK,OAAMA,EAAMC,SAASC,KAAK,KACjDL,EAAoBM,UAAW,EAC/BN,EAAoBxC,UAAUC,IAAIwC,KAElCD,EAAoBM,UAAW,EAC/BN,EAAoBxC,UAAU0B,OAAOe,GAEzC,CAiDA,SAASM,EACPf,EAAWgB,GAQX,IANEC,EAAoBD,EAApBC,qBACAR,EAAmBO,EAAnBP,oBACAS,EAAaF,EAAbE,cACAC,EAAeH,EAAfG,gBACAhB,EAAUa,EAAVb,WAGII,EAAYa,MAAMC,KAAKrB,EAAYsB,iBAAiBJ,IACpDV,EAAsBR,EAAY/C,cAAcgE,GACtDV,EAAUhC,SAAQ,SAAC0B,GACjBH,EAAe,CACbE,YAAAA,EACAC,aAAAA,EACAkB,gBAAAA,EACAhB,WAAAA,GAEJ,IACAE,EAAa,CACXE,UAAAA,EACAC,oBAAAA,EACAC,oBAAAA,GAEJ,C,sGCjHA,IAgCIc,EDkCqBC,EACvBC,EACAP,EACAD,EACAR,EACAU,EACAhB,ECxEIzD,EAAe6C,SAAStC,cAAc,kBAAkByE,QACxDC,EAAWpC,SAAStC,cAAc,iBAClC2E,EAAiBrC,SAAStC,cAAc,YACxC4E,EAAaD,EAAe3E,cAAc,yBAC1C6E,EAAYF,EAAe3E,cAAc,wBACzC8E,EAAeH,EAAe3E,cAAc,mBAC5C+E,EAAqBJ,EAAe3E,cACxC,yBAEIgF,EAAgBL,EAAe3E,cAAc,mBAC7CiF,EAAS3C,SAAS+B,iBAAiB,UACnCa,EAAiB5C,SAAStC,cAAc,qBACxCmF,EAAmB7C,SAAStC,cAAc,wBAC1CoF,EAAgB9C,SAAStC,cAAc,oBACvCqF,EAAsB/C,SAAStC,cAAc,2BAC7CsF,EAAmBhD,SAAS+B,iBAAiB,iBAC7CkB,EAAaL,EAAelF,cAAc,iBAC1CwF,EAAoBN,EAAelF,cAAc,mBACjDyF,EAAqBnD,SAAStC,cAAc,2BAC5C0F,EAAkBpD,SAASqD,MAAM,gBACjCC,EAAYF,EAAgB1F,cAAc,2BAC1C6F,EAAWH,EAAgB1F,cAC/B,kCAEI8F,EAAcxD,SAASqD,MAAM,aAC7BI,EAAgBD,EAAY9F,cAAc,gCAC1CgG,EAAgBF,EAAY9F,cAAc,0BAC1CiG,EAAyB3D,SAASqD,MAAM,eACxCO,EAAmBD,EAAuBjG,cAC9C,2BAEImG,EAAe7D,SAASqD,MAAM,mBAE9BS,EAAmB,CACvB5B,aAAc,eACdP,cAAe,gBACfD,qBAAsB,iBACtBR,oBAAqB,yBACrBU,gBAAiB,0BACjBhB,WAAY,wBAkBd,SAASmD,EAAiB7G,GAAkB,IAAf8G,EAAK9G,EAAL8G,MACrB1F,EADgCpB,EAAJ+G,KACPvG,cAAc,kBACzC,OAAOsG,EACH1F,EAAcG,UAAUC,IAAI,4BAC5BJ,EAAcG,UAAU0B,OAAO,2BACrC,CAIA,SAAS+D,EAAU1D,GAAe,IAAZ7B,EAAE6B,EAAF7B,GAAIlB,EAAI+C,EAAJ/C,KACxBqC,EAAUqD,GACVU,EAAaM,QAAQxF,GAAKA,EAC1BqD,EAAevE,CACjB,CAYA,SAAS2G,EAAQC,GAAqC,IAAlC/F,EAAa+F,EAAb/F,cAAeF,EAAMiG,EAANjG,OAAQC,EAAOgG,EAAPhG,QACpCC,EAAcG,UAAU6F,SAAS,+BH1BxC,SAAwBlG,GACtB,OAAOmG,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,gBAAAS,OAAexB,GAAU,CACrDoG,OAAQ,SACRpF,QAASF,EAAOE,UACfqF,KAAKnF,EACV,CG+BIoF,CAAetG,GACZqG,MAAK,SAAAE,GAAe,IAAZ/F,EAAK+F,EAAL/F,MACPN,EAAcG,UAAUmG,OAAO,+BAC/BvG,EAAQS,YAAeF,EAAMC,OAAcD,EAAMC,OAAX,EACxC,IACCgG,OAAM,SAACC,GACNC,QAAQC,MAAM,YAADpF,OAAakF,GAC5B,IHlDN,SAAqB1G,GACnB,OAAOmG,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,gBAAAS,OAAexB,GAAU,CACrDoG,OAAQ,MACRpF,QAASF,EAAOE,UACfqF,KAAKnF,EACV,CG6BI2F,CAAY7G,GACTqG,MAAK,SAAA1D,GAAe,IAAZnC,EAAKmC,EAALnC,MACPN,EAAcG,UAAUmG,OAAO,+BAC/BvG,EAAQS,YAAcF,EAAMC,MAC9B,IACCgG,OAAM,SAACC,GACNC,QAAQC,MAAM,YAADpF,OAAakF,GAC5B,GAWN,CAcA,SAASzH,EAAc4E,GAAiB,IAAd/D,EAAI+D,EAAJ/D,KAAMC,EAAI8D,EAAJ9D,KAC9B8E,EAAWiC,IAAM,GACjBjC,EAAWkC,IAAM,GACjBjC,EAAkBpE,YAAcX,EAE9B2B,EAAU8C,GAEZK,EAAWiC,IAAMhH,EACjB+E,EAAWkC,IAAMhH,CACnB,CAEA,SAASiH,EAAc3D,GAA0B,IAAvBtD,EAAIsD,EAAJtD,KAAMkH,EAAK5D,EAAL4D,MAAOC,EAAM7D,EAAN6D,OACrC9C,EAAa1D,YAAcX,EAC3BsE,EAAmB3D,YAAcuG,EACjC3C,EAAc6C,MAAMC,gBAAkB,OAAH5F,OAAU0F,EAAM,IACrD,CAzFA3C,EAAO3D,SAAQ,SAACe,GACdA,EAAMtB,UAAUC,IAAI,qBACpBqB,EAAM9B,iBAAiB,aAAa,SAACoC,GAC/BA,EAAEoF,SAAW1F,GACfG,EAAWH,EAEf,GACF,IAEAiD,EAAiBhE,SAAQ,SAAC0G,GACxBA,EAAOzH,iBAAiB,SAAS,kBAC/BiC,EAAWwF,EAAOC,QAAQ,oBAAoB,GAElD,IAyBA9B,EAAa5F,iBAAiB,UAR9B,SAA4BoC,GH7B5B,IAAsBjC,EG8BpBiC,EAAEuF,kBH9BkBxH,EG+BPyF,EAAaM,QAAQxF,GH9B3B4F,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,UAAAS,OAASxB,GAAU,CAC/CoG,OAAQ,SACRpF,QAASF,EAAOE,UACfqF,MAAK,SAAClF,GAAG,OAAKD,EAAWC,EAAI,KG2BMkF,MAAK,WACzCzC,EAAa7B,SACbD,EAAWiD,EACb,GACF,IA0DAK,EAAYvF,iBAAiB,UAAU,SAACoC,GHxGxC,IAAoBG,EAAGrC,EAAMD,EGyG3BmC,EAAEuF,iBACF7B,EAAkB,CAAEC,OAAO,EAAMC,KAAMT,KH1GrBhD,EG2GN,CAAErC,KAAMsF,EAAcoC,MAAO3H,KAAMwF,EAAcmC,OH3GxC1H,EAAIqC,EAAJrC,KAAMD,EAAIsC,EAAJtC,KACpBqG,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,SAAS,CACrCqF,OAAQ,OACRpF,QAASF,EAAOE,QAChB0G,KAAMC,KAAKC,UAAU,CACnB7H,KAAAA,EACAD,KAAAA,MAEDuG,KAAKnF,IGoGLmF,MAAK,SAACrH,GACL,IAAMK,EAAOR,EAAW,CACtBE,aAAAA,EACAC,SAAAA,EACAC,eAAAA,EACAC,aAAc4G,EACd3G,WAAY6G,EACZ5G,QAASJ,EAASmB,MAAW,MAE/B6D,EAAS6D,QAAQxI,GACjB+F,EAAY0C,QACZhG,EAAW2C,EACb,IACCsD,SAAQ,kBAAMpC,EAAkB,CAAEC,OAAO,EAAOC,KAAMT,GAAc,GACzE,IAEAJ,EAAgBnF,iBAAiB,UAAU,SAACoC,GHjJ5C,IAA4BnD,EAAGiB,EAAMkH,EGkJnCtB,EAAkB,CAAEC,OAAO,EAAMC,KAAMb,IACvC/C,EAAEuF,kBHnJwB1I,EGoJN,CAAEiB,KAAMmF,EAAUuC,MAAOR,MAAO9B,EAASsC,OHpJhC1H,EAAIjB,EAAJiB,KAAMkH,EAAKnI,EAALmI,MAC5Bd,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,YAAY,CACxCC,QAASF,EAAOE,QAChBoF,OAAQ,QACRsB,KAAMC,KAAKC,UAAU,CACnB7H,KAAAA,EACAkH,MAAAA,MAEDZ,KAAKnF,IG6ILmF,MAAK,SAAA2B,GACJhB,EAAe,CACbjH,KAFSiI,EAAJjI,KAGLkH,MAHgBe,EAALf,MAIXC,OAJwBc,EAANd,SAMpBpF,EAAW4C,EACb,IACC+B,OAAM,SAACC,GAAG,OAAKC,QAAQsB,IAAIvB,EAAI,IAC/BqB,SAAQ,kBAAMpC,EAAkB,CAAEC,OAAO,EAAOC,KAAMb,GAAkB,GAC7E,IAEAO,EAAuB1F,iBAAiB,UAAU,SAACoC,GHtJnD,IAA2BnC,EGuJzB6F,EAAkB,CAAEC,OAAO,EAAMC,KAAMN,IACvCtD,EAAEuF,kBHxJuB1H,EG0JP0F,EAAiBiC,MHzJ5BtB,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,mBAAmB,CAC/CqF,OAAQ,QACRpF,QAASF,EAAOE,QAChB0G,KAAMC,KAAKC,UAAU,CACnBV,OAAQpH,MAETuG,KAAKnF,IGoJLmF,MAAK,SAAA6B,GA7CV,IAAwBC,EAAGjB,EA6CVgB,EAAJnI,KAAWmI,EAALjB,MA7CKkB,EA8CF,CAAEjB,OADQgB,EAANhB,QA7CCA,EAAMiB,EAANjB,OACzB5C,EAAc6C,MAAMC,gBAAkB,OAAH5F,OAAU0F,EAAM,KA8C/CpF,EAAW6C,EACb,IACC8B,OAAM,SAACC,GACNC,QAAQC,MAAM,YAADpF,OAAakF,IAC1B5E,EAAW6C,EACb,IACCoD,SAAQ,kBACPpC,EAAkB,CAAEC,OAAO,EAAOC,KAAMN,GAAyB,GAEvE,IAEApB,EAAUtE,iBAAiB,SAAS,WAClCuF,EAAY0C,QACZ1E,EAAgBgC,EAAaM,GAC7BhE,EAAU+C,EACZ,IAEAP,EAAWrE,iBAAiB,SAAS,WACnCqF,EAAUuC,MAAQrD,EAAa1D,YAC/ByE,EAASsC,MAAQpD,EAAmB3D,YACpC0C,EAAgB4B,EAAiBU,GACjChE,EAAUgD,EACZ,IAEAJ,EAAczE,iBAAiB,SAAS,WACtC0F,EAAuBuC,QACvB1E,EAAgBmC,EAAwBG,GACxChE,EAAUiD,EACZ,IAEArD,QAAQ8G,IAAI,CHlNHjC,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,YAAY,CACxCC,QAASF,EAAOE,QAChBoF,OAAQ,QACPC,KAAKnF,GAIDiF,MAAM,GAAD3E,OAAIV,EAAOC,QAAO,SAAS,CACrCC,QAASF,EAAOE,UACfqF,KAAKnF,KG0MPmF,MAAK,SAAAgC,GAA8C,I,IAAAC,G,EAAA,E,4CAAAD,I,s1BAAAE,EAAAD,EAAA,GAA1CvI,EAAIwI,EAAJxI,KAAMmH,EAAMqB,EAANrB,OAAQD,EAAKsB,EAALtB,MAAO7G,EAAGmI,EAAHnI,IAAOpB,EAAQsJ,EAAA,GAC5CtB,EAAe,CAAEjH,KAAAA,EAAMmH,OAAAA,EAAQD,MAAAA,IAC/BjI,EAAS4B,SAAQ,SAACvB,IA5GtB,SAA0BD,EAASJ,GACjC,IAAMK,EAAOR,EAAW,CACtBE,aAAAA,EACAC,SAAAA,EACAC,eAAAA,EACAC,aAAc4G,EACd3G,WAAY6G,EACZ5G,QAAAA,IAEF4E,EAASwE,OAAOnJ,EAClB,CAmGMoJ,CAAiBrI,EAAKf,EACxB,GACF,IACCoH,OAAM,SAACC,GACNC,QAAQC,MAAM,YAADpF,OAAakF,GAC5B,IDvJA5C,GADuBD,EC0JR6B,GDzJf5B,aACAP,EAAaM,EAAbN,cACAD,EAAoBO,EAApBP,qBACAR,EAAmBe,EAAnBf,oBACAU,EAAeK,EAAfL,gBACAhB,EAAUqB,EAAVrB,WAEiBZ,SAAS+B,iBAAiBG,GAElClD,SAAQ,SAACyB,GAChBA,EAAYxC,iBAAiB,UAAU,SAACoC,GAAC,OAAKA,EAAEuF,gBAAgB,IArCpE,SAAkBjB,GAOf,IANDlE,EAAWkE,EAAXlE,YACAkB,EAAagD,EAAbhD,cACAD,EAAoBiD,EAApBjD,qBACAR,EAAmByD,EAAnBzD,oBACAU,EAAe+C,EAAf/C,gBACAhB,EAAU+D,EAAV/D,WAEMI,EAAYa,MAAMC,KAAKrB,EAAYsB,iBAAiBJ,IAEpDV,EAAsBR,EAAY/C,cAAcgE,GAEtDZ,EAAa,CAAEE,UAAAA,EAAWC,oBAAAA,EAAqBC,oBAAAA,IAE/CF,EAAUhC,SAAQ,SAAC0B,GACjBA,EAAazC,iBAAiB,SAAS,YA9C3C,SAA2BoG,GAKxB,IAJD5D,EAAW4D,EAAX5D,YACAC,EAAY2D,EAAZ3D,aACAC,EAAe0D,EAAf1D,gBACAC,EAAUyD,EAAVzD,WAEIF,EAAaW,SAASyF,gBACxBpG,EAAaqG,kBAAkBrG,EAAayD,QAAQ6C,cAC/CtG,EAAaqG,kBAAkB,IAEjCrG,EAAaW,SAASC,MASzBf,EAAe,CAAEE,YAAAA,EAAaC,aAAAA,EAAcC,gBAAAA,EAAiBC,WAAAA,IA1CjE,SAAuB1D,GAMpB,IAJDwD,EAAYxD,EAAZwD,aACAC,EAAezD,EAAfyD,gBACAC,EAAU1D,EAAV0D,WACAoG,EAAY9J,EAAZ8J,aAEMnG,EANK3D,EAAXuD,YAMiC/C,cAAc,IAADkC,OAAKc,EAAa/B,GAAE,WAClEkC,EAAapC,UAAUC,IAAIkC,GAC3BC,EAAa/B,YAAckI,EAC3BtG,EAAajC,UAAUC,IAAIiC,EAC7B,CAuBIsG,CAAe,CACbxG,YAAAA,EACAC,aAAAA,EACAC,gBAAAA,EACAC,WAAAA,EACAoG,aAActG,EAAawG,mBAKjC,CA0BMC,CAAmB,CACjB1G,YAAAA,EACAC,aAAAA,EACAE,WAAAA,EACAgB,gBAAAA,IAEFd,EAAa,CAAEE,UAAAA,EAAWC,oBAAAA,EAAqBC,oBAAAA,GACjD,GACF,GACF,CAaIkG,CAAU,CACR3G,YAAAA,EACAkB,cAAAA,EACAD,qBAAAA,EACAR,oBAAAA,EACAU,gBAAAA,EACAhB,WAAAA,GAEJ,G","sources":["webpack://project/./src/components/card.js","webpack://project/./src/components/api.js","webpack://project/./src/components/modal.js","webpack://project/./src/components/validation.js","webpack://project/./src/scripts/index.js"],"sourcesContent":["function createCard({\r\n  cardTemplate,\r\n  cardData,\r\n  openImagePopup,\r\n  onCardDelete,\r\n  onLikeCard,\r\n  ownerId,\r\n}) {\r\n  const card = cardTemplate.querySelector('.places__item').cloneNode(true);\r\n  const cardTitle = card.querySelector('.card__title');\r\n  const cardImage = card.querySelector('.card__image');\r\n  const deleteButton = card.querySelector('.card__delete-button');\r\n  const likeButton = card.querySelector('.card__like-button');\r\n  const likeCount = card.querySelector('.card__like-counter');\r\n\r\n  cardImage.addEventListener('click', () =>\r\n    openImagePopup({ link: cardData.link, name: cardData.name })\r\n  );\r\n  likeButton.addEventListener('click', () =>\r\n    onLikeCard({\r\n      cardId: cardData['_id'],\r\n      counter: likeCount,\r\n      buttonElement: likeButton,\r\n    })\r\n  );\r\n  if (cardData.owner._id === ownerId) {\r\n    deleteButton.classList.add('card__delete-button-active');\r\n    deleteButton.addEventListener('click', () =>\r\n      onCardDelete({ id: cardData._id, card })\r\n    );\r\n  }\r\n  cardData.likes.length\r\n    ? (likeCount.textContent = cardData.likes.length)\r\n    : (likeCount.textContent = '');\r\n\r\n  cardTitle.textContent = cardData.name;\r\n  cardImage.setAttribute('src', cardData.link);\r\n  cardImage.setAttribute('alt', cardData.name);\r\n\r\n  cardData.likes.forEach((likeOwner) => {\r\n    if (likeOwner._id === ownerId) {\r\n      likeButton.classList.add('card__like-button_is-active');\r\n    }\r\n  });\r\n\r\n  return card;\r\n}\r\nexport { createCard };\r\n","const config = {\r\n  baseUrl: 'https://nomoreparties.co/v1/wff-cohort-27/',\r\n  headers: {\r\n    authorization: '246b95aa-f127-4b1a-921b-15891f907931',\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n\r\nfunction isResponse(res) {\r\n  return res.ok ? res.json() : Promise.reject(`Error ${res.status}`);\r\n}\r\n\r\nfunction getProfileData() {\r\n  return fetch(`${config.baseUrl}users/me`, {\r\n    headers: config.headers,\r\n    method: 'GET',\r\n  }).then(isResponse)\r\n}\r\n\r\nfunction getInitialCards() {\r\n  return fetch(`${config.baseUrl}cards`, {\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction patchProfileSection({ name, about }) {\r\n  return fetch(`${config.baseUrl}users/me`, {\r\n    headers: config.headers,\r\n    method: 'PATCH',\r\n    body: JSON.stringify({\r\n      name,\r\n      about,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction patchProfilePhoto(link) {\r\n  return fetch(`${config.baseUrl}users/me/avatar`, {\r\n    method: 'PATCH',\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      avatar: link,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction postNewCard({ name, link }) {\r\n  return fetch(`${config.baseUrl}cards`, {\r\n    method: 'POST',\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name,\r\n      link,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction deleteMyCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: config.headers,\r\n  }).then((res) => isResponse(res));\r\n}\r\n\r\nfunction putLikeCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/likes/${cardId}`, {\r\n    method: 'PUT',\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction deleteLikeCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/likes/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nexport {\r\n  getInitialCards,\r\n  getProfileData,\r\n  patchProfileSection,\r\n  postNewCard,\r\n  deleteMyCard,\r\n  deleteLikeCard,\r\n  putLikeCard,\r\n  patchProfilePhoto,\r\n};\r\n","function openModal(popup) {\r\n  popup.classList.add('popup_is-opened');\r\n  document.addEventListener('keydown', closeEscPopup);\r\n}\r\n\r\nfunction closeModal(popup) {\r\n  popup.classList.remove('popup_is-opened');\r\n  document.removeEventListener('keydown', closeEscPopup);\r\n}\r\nfunction closeEscPopup(e) {\r\n  if (e.key === 'Escape') {\r\n    const popup = document.querySelector('.popup_is-opened');\r\n    closeModal(popup);\r\n  }\r\n}\r\nexport { openModal, closeModal };\r\n","function showValidation({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n  errorMessage,\r\n}) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  errorElement.classList.add(errorClass);\r\n  errorElement.textContent = errorMessage;\r\n  inputElement.classList.add(inputErorrClass);\r\n}\r\nfunction hideValidation({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n}) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  errorElement.classList.remove(errorClass);\r\n  errorElement.textContent = '';\r\n  inputElement.classList.remove(inputErorrClass);\r\n}\r\nfunction checkInputValidity({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n}) {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else inputElement.setCustomValidity('');\r\n\r\n  if (!inputElement.validity.valid) {\r\n    showValidation({\r\n      formElement,\r\n      inputElement,\r\n      inputErorrClass,\r\n      errorClass,\r\n      errorMessage: inputElement.validationMessage,\r\n    });\r\n  } else {\r\n    hideValidation({ formElement, inputElement, inputErorrClass, errorClass });\r\n  }\r\n}\r\nfunction toggleButton({ inputList, submitButtonElement, inactiveButtonClass }) {\r\n  if (inputList.some((input) => !input.validity.valid)) {\r\n    submitButtonElement.disabled = true;\r\n    submitButtonElement.classList.add(inactiveButtonClass);\r\n  } else {\r\n    submitButtonElement.disabled = false;\r\n    submitButtonElement.classList.remove(inactiveButtonClass);\r\n  }\r\n}\r\nfunction setEvents({\r\n  formElement,\r\n  inputSelector,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) {\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n\r\n  toggleButton({ inputList, submitButtonElement, inactiveButtonClass });\r\n\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener('input', () => {\r\n      checkInputValidity({\r\n        formElement,\r\n        inputElement,\r\n        errorClass,\r\n        inputErrorClass,\r\n      });\r\n      toggleButton({ inputList, submitButtonElement, inactiveButtonClass });\r\n    });\r\n  });\r\n}\r\nfunction enableValidation({\r\n  formSelector,\r\n  inputSelector,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) {\r\n  const formList = document.querySelectorAll(formSelector);\r\n\r\n  formList.forEach((formElement) => {\r\n    formElement.addEventListener('submit', (e) => e.preventDefault());\r\n    setEvents({\r\n      formElement,\r\n      inputSelector,\r\n      submitButtonSelector,\r\n      inactiveButtonClass,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n}\r\nfunction clearValidation(\r\n  formElement,\r\n  {\r\n    submitButtonSelector,\r\n    inactiveButtonClass,\r\n    inputSelector,\r\n    inputErrorClass,\r\n    errorClass,\r\n  }\r\n) {\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n  inputList.forEach((inputElement) => {\r\n    hideValidation({\r\n      formElement,\r\n      inputElement,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n  toggleButton({\r\n    inputList,\r\n    submitButtonElement,\r\n    inactiveButtonClass,\r\n  });\r\n}\r\nexport { enableValidation, clearValidation };\r\n","import '../pages/index.css';\r\nimport { createCard } from '../components/card.js';\r\nimport {\r\n  getInitialCards,\r\n  getProfileData,\r\n  patchProfileSection,\r\n  postNewCard,\r\n  deleteMyCard,\r\n  deleteLikeCard,\r\n  putLikeCard,\r\n  patchProfilePhoto,\r\n} from '../components/api.js';\r\nimport { closeModal, openModal } from '../components/modal.js';\r\nimport { enableValidation, clearValidation } from '../components/validation.js';\r\nconst cardTemplate = document.querySelector('#card-template').content;\r\nconst cardList = document.querySelector('.places__list');\r\nconst profileSection = document.querySelector('.profile');\r\nconst editButton = profileSection.querySelector('.profile__edit-button');\r\nconst addButton = profileSection.querySelector('.profile__add-button');\r\nconst profileTitle = profileSection.querySelector('.profile__title');\r\nconst profileDescription = profileSection.querySelector(\r\n  '.profile__description'\r\n);\r\nconst profileAvatar = profileSection.querySelector('.profile__image');\r\nconst popups = document.querySelectorAll('.popup');\r\nconst popupTypeImage = document.querySelector('.popup_type_image');\r\nconst popupTypeNewCard = document.querySelector('.popup_type_new-card');\r\nconst popupTypeEdit = document.querySelector('.popup_type_edit');\r\nconst popupTypeEditAvatar = document.querySelector('.popup_type_avatar_edit');\r\nconst closePopupButton = document.querySelectorAll('.popup__close');\r\nconst popupImage = popupTypeImage.querySelector('.popup__image');\r\nconst popupImageCaption = popupTypeImage.querySelector('.popup__caption');\r\nconst popupConfirmDelete = document.querySelector('.popup_type_card-delete');\r\nconst formEditProfile = document.forms['edit-profile'];\r\nconst nameInput = formEditProfile.querySelector('.popup__input_type_name');\r\nconst jobInput = formEditProfile.querySelector(\r\n  '.popup__input_type_description'\r\n);\r\nconst formAddCard = document.forms['new-place'];\r\nconst cardNamePlace = formAddCard.querySelector('.popup__input_type_card-name');\r\nconst cardImageLink = formAddCard.querySelector('.popup__input_type_url');\r\nconst formChangeProfileImage = document.forms['edit-avatar'];\r\nconst profileImageLink = formChangeProfileImage.querySelector(\r\n  '.popup__input_photo_url'\r\n);\r\nconst conifirmForm = document.forms['conifirm-delete'];\r\nlet cardToDelete;\r\nconst validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible',\r\n};\r\n\r\npopups.forEach((popup) => {\r\n  popup.classList.add('popup_is-animated');\r\n  popup.addEventListener('mousedown', (e) => {\r\n    if (e.target === popup) {\r\n      closeModal(popup);\r\n    }\r\n  });\r\n});\r\n\r\nclosePopupButton.forEach((button) => {\r\n  button.addEventListener('click', () =>\r\n    closeModal(button.closest('.popup_is-opened'))\r\n  );\r\n});\r\n\r\nfunction showButtonLoading({ state, form }) {\r\n  const buttonElement = form.querySelector('.popup__button');\r\n  return state\r\n    ? buttonElement.classList.add('popup__button_is-loading')\r\n    : buttonElement.classList.remove('popup__button_is-loading');\r\n}\r\n\r\n\r\n\r\nfunction deleteCard({ id, card }) {\r\n  openModal(popupConfirmDelete);\r\n  conifirmForm.dataset.id = id;\r\n  cardToDelete = card;\r\n}\r\n\r\nfunction handleDeleteSubmit(e) {\r\n  e.preventDefault();\r\n  deleteMyCard(conifirmForm.dataset.id).then(() => {\r\n    cardToDelete.remove();\r\n    closeModal(popupConfirmDelete);\r\n  });\r\n}\r\n\r\nconifirmForm.addEventListener('submit', handleDeleteSubmit);\r\n\r\nfunction likeCard({ buttonElement, cardId, counter }) {\r\n  if (!buttonElement.classList.contains('card__like-button_is-active')) {\r\n    putLikeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.toggle('card__like-button_is-active');\r\n        counter.textContent = likes.length;\r\n      })\r\n      .catch((err) => {\r\n        console.error(`Ошибка:, ${err}`);\r\n      });\r\n  } else {\r\n    deleteLikeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.toggle('card__like-button_is-active');\r\n        counter.textContent = !likes.length ? '' : likes.length;\r\n      })\r\n      .catch((err) => {\r\n        console.error(`Ошибка:, ${err}`);\r\n      });\r\n  }\r\n}\r\n\r\nfunction buildCardElement(ownerId, cardData) {\r\n  const card = createCard({\r\n    cardTemplate,\r\n    cardData,\r\n    openImagePopup,\r\n    onCardDelete: deleteCard,\r\n    onLikeCard: likeCard,\r\n    ownerId,\r\n  });\r\n  cardList.append(card);\r\n}\r\n\r\nfunction openImagePopup({ link, name }) {\r\n  popupImage.src = '';\r\n  popupImage.alt = '';\r\n  popupImageCaption.textContent = name;\r\n  (function popupOnLoad() {\r\n    openModal(popupTypeImage);\r\n  })();\r\n  popupImage.src = link;\r\n  popupImage.alt = name;\r\n}\r\n\r\nfunction setProfileInfo({ name, about, avatar }) {\r\n  profileTitle.textContent = name;\r\n  profileDescription.textContent = about;\r\n  profileAvatar.style.backgroundImage = `url(${avatar})`;\r\n}\r\nfunction setProfilePhoto({ avatar }) {\r\n  profileAvatar.style.backgroundImage = `url(${avatar})`;\r\n}\r\n\r\nformAddCard.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  showButtonLoading({ state: true, form: formAddCard });\r\n  postNewCard({ name: cardNamePlace.value, link: cardImageLink.value })\r\n    .then((cardData) => {\r\n      const card = createCard({\r\n        cardTemplate,\r\n        cardData,\r\n        openImagePopup,\r\n        onCardDelete: deleteCard,\r\n        onLikeCard: likeCard,\r\n        ownerId: cardData.owner['_id'],\r\n      });\r\n      cardList.prepend(card);\r\n      formAddCard.reset();\r\n      closeModal(popupTypeNewCard);\r\n    })\r\n    .finally(() => showButtonLoading({ state: false, form: formAddCard }));\r\n});\r\n\r\nformEditProfile.addEventListener('submit', (e) => {\r\n  showButtonLoading({ state: true, form: formEditProfile });\r\n  e.preventDefault();\r\n  patchProfileSection({ name: nameInput.value, about: jobInput.value })\r\n    .then(({ name, about, avatar }) => {\r\n      setProfileInfo({\r\n        name,\r\n        about,\r\n        avatar,\r\n      });\r\n      closeModal(popupTypeEdit);\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => showButtonLoading({ state: false, form: formEditProfile }));\r\n});\r\n\r\nformChangeProfileImage.addEventListener('submit', (e) => {\r\n  showButtonLoading({ state: true, form: formChangeProfileImage });\r\n  e.preventDefault();\r\n\r\n  patchProfilePhoto(profileImageLink.value)\r\n    .then(({ name, about, avatar }) => {\r\n      setProfilePhoto({ avatar });\r\n      closeModal(popupTypeEditAvatar);\r\n    })\r\n    .catch((err) => {\r\n      console.error(`Ошибка:, ${err}`);\r\n      closeModal(popupTypeEditAvatar);\r\n    })\r\n    .finally(() =>\r\n      showButtonLoading({ state: false, form: formChangeProfileImage })\r\n    );\r\n});\r\n\r\naddButton.addEventListener('click', () => {\r\n  formAddCard.reset();\r\n  clearValidation(formAddCard, validationConfig);\r\n  openModal(popupTypeNewCard);\r\n});\r\n\r\neditButton.addEventListener('click', () => {\r\n  nameInput.value = profileTitle.textContent;\r\n  jobInput.value = profileDescription.textContent;\r\n  clearValidation(formEditProfile, validationConfig);\r\n  openModal(popupTypeEdit);\r\n});\r\n\r\nprofileAvatar.addEventListener('click', () => {\r\n  formChangeProfileImage.reset();\r\n  clearValidation(formChangeProfileImage, validationConfig);\r\n  openModal(popupTypeEditAvatar);\r\n});\r\n\r\nPromise.all([getProfileData(), getInitialCards()])\r\n  .then(([{ name, avatar, about, _id }, cardData]) => {\r\n    setProfileInfo({ name, avatar, about });\r\n    cardData.forEach((card) => {\r\n      buildCardElement(_id, card);\r\n    });\r\n  })\r\n  .catch((err) => {\r\n    console.error(`Ошибка:, ${err}`);\r\n  });\r\n\r\nenableValidation(validationConfig);\r\n"],"names":["createCard","_ref","cardTemplate","cardData","openImagePopup","onCardDelete","onLikeCard","ownerId","card","querySelector","cloneNode","cardTitle","cardImage","deleteButton","likeButton","likeCount","addEventListener","link","name","cardId","counter","buttonElement","owner","_id","classList","add","id","likes","length","textContent","setAttribute","forEach","likeOwner","config","baseUrl","headers","authorization","isResponse","res","ok","json","Promise","reject","concat","status","openModal","popup","document","closeEscPopup","closeModal","remove","removeEventListener","e","key","hideValidation","_ref2","formElement","inputElement","inputErorrClass","errorClass","errorElement","toggleButton","_ref4","inputList","submitButtonElement","inactiveButtonClass","some","input","validity","valid","disabled","clearValidation","_ref7","submitButtonSelector","inputSelector","inputErrorClass","Array","from","querySelectorAll","cardToDelete","_ref6","formSelector","content","cardList","profileSection","editButton","addButton","profileTitle","profileDescription","profileAvatar","popups","popupTypeImage","popupTypeNewCard","popupTypeEdit","popupTypeEditAvatar","closePopupButton","popupImage","popupImageCaption","popupConfirmDelete","formEditProfile","forms","nameInput","jobInput","formAddCard","cardNamePlace","cardImageLink","formChangeProfileImage","profileImageLink","conifirmForm","validationConfig","showButtonLoading","state","form","deleteCard","dataset","likeCard","_ref3","contains","fetch","method","then","deleteLikeCard","_ref5","toggle","catch","err","console","error","putLikeCard","src","alt","setProfileInfo","about","avatar","style","backgroundImage","target","button","closest","preventDefault","value","body","JSON","stringify","prepend","reset","finally","_ref9","log","_ref10","_ref8","all","_ref11","_ref12","_ref12$","append","buildCardElement","patternMismatch","setCustomValidity","errorMessage","showValidation","validationMessage","checkInputValidity","setEvents"],"sourceRoot":""}