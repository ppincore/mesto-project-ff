{"version":3,"file":"main.js","mappings":"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","sources":["webpack://project/./src/components/card.js","webpack://project/./src/components/api.js","webpack://project/./src/components/modal.js","webpack://project/./src/components/validation.js","webpack://project/./src/scripts/index.js"],"sourcesContent":["function createCard({\r\n  cardTemplate,\r\n  cardData,\r\n  openImagePopup,\r\n  onCardDelete,\r\n  onLikeCard,\r\n  myId,\r\n}) {\r\n  const card = cardTemplate.querySelector('.places__item').cloneNode(true);\r\n  const cardTitle = card.querySelector('.card__title');\r\n  const cardImage = card.querySelector('.card__image');\r\n  const deleteButton = card.querySelector('.card__delete-button');\r\n  const likeButton = card.querySelector('.card__like-button');\r\n  const likeCount = card.querySelector('.card__like-counter');\r\n\r\n  cardImage.addEventListener('click', () =>\r\n    openImagePopup({ link: cardData.link, name: cardData.name })\r\n  );\r\n\r\n  likeButton.addEventListener('click', () =>\r\n    onLikeCard({\r\n      cardId: cardData['_id'],\r\n      counter: likeCount,\r\n      buttonElement: likeButton,\r\n    })\r\n  );\r\n  if (cardData.owner._id === myId) {\r\n    deleteButton.classList.add('card__delete-button-active');\r\n    deleteButton.addEventListener('click', () =>\r\n      onCardDelete({\r\n        cardId: cardData['_id'],\r\n        cardElement: card,\r\n        buttonElement: deleteButton,\r\n      })\r\n    );\r\n  }\r\n  cardData.likes.length\r\n    ? (likeCount.textContent = cardData.likes.length)\r\n    : (likeCount.textContent = '');\r\n\r\n  cardTitle.textContent = cardData.name;\r\n  cardImage.setAttribute('src', cardData.link);\r\n  cardImage.setAttribute('alt', cardData.name);\r\n\r\n  cardData.likes.forEach((likeOwner) => {\r\n    if (likeOwner._id === myId) {\r\n      likeButton.classList.add('card__like-button_is-active');\r\n    }\r\n  });\r\n\r\n  return card;\r\n}\r\nexport { createCard };\r\n","const config = {\r\n  baseUrl: 'https://nomoreparties.co/v1/wff-cohort-27/',\r\n  headers: {\r\n    authorization: '246b95aa-f127-4b1a-921b-15891f907931',\r\n    'Content-Type': 'application/json',\r\n  },\r\n};\r\n\r\nfunction isResponse(res) {\r\n  return res.ok ? res.json() : Promise.reject(`Error ${res.status}`);\r\n}\r\n\r\nfunction getProfileData() {\r\n  return fetch(`${config.baseUrl}users/me`, {\r\n    headers: config.headers,\r\n    method: 'GET',\r\n  }).then(isResponse)\r\n}\r\n\r\nfunction getInitialCards() {\r\n  return fetch(`${config.baseUrl}cards`, {\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction patchProfileSection({ name, about }) {\r\n  return fetch(`${config.baseUrl}users/me`, {\r\n    headers: config.headers,\r\n    method: 'PATCH',\r\n    body: JSON.stringify({\r\n      name,\r\n      about,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction patchProfilePhoto(link) {\r\n  return fetch(`${config.baseUrl}users/me/avatar`, {\r\n    method: 'PATCH',\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      avatar: link,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction postNewCard({ name, link }) {\r\n  return fetch(`${config.baseUrl}cards`, {\r\n    method: 'POST',\r\n    headers: config.headers,\r\n    body: JSON.stringify({\r\n      name,\r\n      link,\r\n    }),\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction deleteMyCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: config.headers,\r\n  }).then((res) => isResponse(res));\r\n}\r\n\r\nfunction putLikeCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/likes/${cardId}`, {\r\n    method: 'PUT',\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nfunction deleteLikeCard(cardId) {\r\n  return fetch(`${config.baseUrl}cards/likes/${cardId}`, {\r\n    method: 'DELETE',\r\n    headers: config.headers,\r\n  }).then(isResponse);\r\n}\r\n\r\nexport {\r\n  getInitialCards,\r\n  getProfileData,\r\n  patchProfileSection,\r\n  postNewCard,\r\n  deleteMyCard,\r\n  deleteLikeCard,\r\n  putLikeCard,\r\n  patchProfilePhoto,\r\n};\r\n","function openModal(popup) {\r\n  popup.classList.add('popup_is-opened');\r\n  document.addEventListener('keydown', closeEscPopup);\r\n}\r\n\r\nfunction closeModal(popup) {\r\n  popup.classList.remove('popup_is-opened');\r\n  document.removeEventListener('keydown', closeEscPopup);\r\n}\r\nfunction closeEscPopup(e) {\r\n  if (e.key === 'Escape') {\r\n    const popup = document.querySelector('.popup_is-opened');\r\n    closeModal(popup);\r\n  }\r\n}\r\nexport { openModal, closeModal };\r\n","function showValidation({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n  errorMessage,\r\n}) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  errorElement.classList.add(errorClass);\r\n  errorElement.textContent = errorMessage;\r\n  inputElement.classList.add(inputErorrClass);\r\n}\r\nfunction hideValidation({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n}) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  errorElement.classList.remove(errorClass);\r\n  errorElement.textContent = '';\r\n  inputElement.classList.remove(inputErorrClass);\r\n}\r\nfunction checkInputValidity({\r\n  formElement,\r\n  inputElement,\r\n  inputErorrClass,\r\n  errorClass,\r\n}) {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else inputElement.setCustomValidity('');\r\n\r\n  if (!inputElement.validity.valid) {\r\n    showValidation({\r\n      formElement,\r\n      inputElement,\r\n      inputErorrClass,\r\n      errorClass,\r\n      errorMessage: inputElement.validationMessage,\r\n    });\r\n  } else {\r\n    hideValidation({ formElement, inputElement, inputErorrClass, errorClass });\r\n  }\r\n}\r\nfunction toggleButton({ inputList, submitButtonElement, inactiveButtonClass }) {\r\n  if (inputList.some((input) => !input.validity.valid)) {\r\n    submitButtonElement.disabled = true;\r\n    submitButtonElement.classList.add(inactiveButtonClass);\r\n  } else {\r\n    submitButtonElement.disabled = false;\r\n    submitButtonElement.classList.remove(inactiveButtonClass);\r\n  }\r\n}\r\nfunction setEvents({\r\n  formElement,\r\n  inputSelector,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) {\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n\r\n  toggleButton({ inputList, submitButtonElement, inactiveButtonClass });\r\n\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener('input', () => {\r\n      checkInputValidity({\r\n        formElement,\r\n        inputElement,\r\n        errorClass,\r\n        inputErrorClass,\r\n      });\r\n      toggleButton({ inputList, submitButtonElement, inactiveButtonClass });\r\n    });\r\n  });\r\n}\r\nfunction enableValidation({\r\n  formSelector,\r\n  inputSelector,\r\n  submitButtonSelector,\r\n  inactiveButtonClass,\r\n  inputErrorClass,\r\n  errorClass,\r\n}) {\r\n  const formList = document.querySelectorAll(formSelector);\r\n\r\n  formList.forEach((formElement) => {\r\n    formElement.addEventListener('submit', (e) => e.preventDefault());\r\n    setEvents({\r\n      formElement,\r\n      inputSelector,\r\n      submitButtonSelector,\r\n      inactiveButtonClass,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n}\r\nfunction clearValidation(\r\n  formElement,\r\n  {\r\n    submitButtonSelector,\r\n    inactiveButtonClass,\r\n    inputSelector,\r\n    inputErrorClass,\r\n    errorClass,\r\n  }\r\n) {\r\n  const inputList = Array.from(formElement.querySelectorAll(inputSelector));\r\n  const submitButtonElement = formElement.querySelector(submitButtonSelector);\r\n  inputList.forEach((inputElement) => {\r\n    hideValidation({\r\n      formElement,\r\n      inputElement,\r\n      inputErrorClass,\r\n      errorClass,\r\n    });\r\n  });\r\n  toggleButton({\r\n    inputList,\r\n    submitButtonElement,\r\n    inactiveButtonClass,\r\n  });\r\n}\r\nexport { enableValidation, clearValidation };\r\n","import '../pages/index.css';\r\nimport { createCard } from '../components/card.js';\r\nimport {\r\n  getInitialCards,\r\n  getProfileData,\r\n  patchProfileSection,\r\n  postNewCard,\r\n  deleteMyCard,\r\n  deleteLikeCard,\r\n  putLikeCard,\r\n  patchProfilePhoto,\r\n} from '../components/api.js';\r\nimport { closeModal, openModal } from '../components/modal.js';\r\nimport { enableValidation, clearValidation } from '../components/validation.js';\r\nconst cardTemplate = document.querySelector('#card-template').content;\r\nconst cardList = document.querySelector('.places__list');\r\nconst profileSection = document.querySelector('.profile');\r\nconst editButton = profileSection.querySelector('.profile__edit-button');\r\nconst addButton = profileSection.querySelector('.profile__add-button');\r\nconst profileTitle = profileSection.querySelector('.profile__title');\r\nconst profileDescription = profileSection.querySelector(\r\n  '.profile__description'\r\n);\r\nconst profileAvatar = profileSection.querySelector('.profile__image');\r\nconst popups = document.querySelectorAll('.popup');\r\nconst popupTypeImage = document.querySelector('.popup_type_image');\r\nconst popupTypeNewCard = document.querySelector('.popup_type_new-card');\r\nconst popupTypeEdit = document.querySelector('.popup_type_edit');\r\nconst popupTypeEditAvatar = document.querySelector('.popup_type_avatar_edit');\r\nconst closePopupButton = document.querySelectorAll('.popup__close');\r\nconst popupImage = popupTypeImage.querySelector('.popup__image');\r\nconst popupImageCaption = popupTypeImage.querySelector('.popup__caption');\r\nconst popupConfirmDelete = document.querySelector('.popup_type_card-delete');\r\nconst formEditProfile = document.forms['edit-profile'];\r\nconst nameInput = formEditProfile.querySelector('.popup__input_type_name');\r\nconst jobInput = formEditProfile.querySelector(\r\n  '.popup__input_type_description'\r\n);\r\nconst formAddCard = document.forms['new-place'];\r\nconst cardNamePlace = formAddCard.querySelector('.popup__input_type_card-name');\r\nconst cardImageLink = formAddCard.querySelector('.popup__input_type_url');\r\nconst formChangeProfileImage = document.forms['edit-avatar'];\r\nconst profileImageLink = formChangeProfileImage.querySelector(\r\n  '.popup__input_photo_url'\r\n);\r\nconst conifirmForm = document.forms['conifirm-delete'];\r\n\r\nconst validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible',\r\n};\r\n\r\npopups.forEach((popup) => {\r\n  popup.classList.add('popup_is-animated');\r\n  popup.addEventListener('mousedown', (e) => {\r\n    if (e.target === popup) {\r\n      closeModal(popup);\r\n    }\r\n  });\r\n});\r\n\r\nclosePopupButton.forEach((button) => {\r\n  button.addEventListener('click', () =>\r\n    closeModal(button.closest('.popup_is-opened'))\r\n  );\r\n});\r\n\r\nfunction showButtonLoading({ state, form }) {\r\n  const buttonElement = form.querySelector('.popup__button');\r\n  return state\r\n    ? buttonElement.classList.add('popup__button_is-loading')\r\n    : buttonElement.classList.remove('popup__button_is-loading');\r\n}\r\n\r\nfunction deleteCard({ cardId, buttonElement }) {\r\n  openModal(popupConfirmDelete);\r\n  function deleteCardSubmit(e) {\r\n    showButtonLoading({ state: true, form: conifirmForm });\r\n    e.preventDefault();\r\n    deleteMyCard(cardId)\r\n      .then(() => {\r\n        buttonElement.closest('.card').remove();\r\n        closeModal(popupConfirmDelete);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Ошибка при удалении карточки:', err);\r\n      })\r\n      .finally(() => {\r\n        conifirmForm.removeEventListener('submit', deleteCardSubmit);\r\n      });\r\n  }\r\n  showButtonLoading({ state: false, form: conifirmForm });\r\n  conifirmForm.addEventListener('submit', deleteCardSubmit);\r\n}\r\n\r\nfunction likeCard({ buttonElement, cardId, counter }) {\r\n  if (!buttonElement.classList.contains('card__like-button_is-active')) {\r\n    putLikeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.toggle('card__like-button_is-active');\r\n        counter.textContent = likes.length;\r\n      })\r\n      .catch((err) => {\r\n        console.error(`Ошибка:, ${err}`);\r\n      });\r\n  } else {\r\n    deleteLikeCard(cardId)\r\n      .then(({ likes }) => {\r\n        buttonElement.classList.toggle('card__like-button_is-active');\r\n        counter.textContent = !likes.length ? '' : likes.length;\r\n      })\r\n      .catch((err) => {\r\n        console.error(`Ошибка:, ${err}`);\r\n      });\r\n  }\r\n}\r\n\r\nfunction buildCardElement(myId, cardData) {\r\n  const card = createCard({\r\n    cardTemplate,\r\n    cardData,\r\n    openImagePopup,\r\n    onCardDelete: deleteCard,\r\n    onLikeCard: likeCard,\r\n    myId,\r\n  });\r\n  cardList.append(card);\r\n}\r\n\r\nfunction openImagePopup({ link, name }) {\r\n  popupImage.src = '';\r\n  popupImage.alt = '';\r\n  popupImageCaption.textContent = name;\r\n  (function popupOnLoad() {\r\n    openModal(popupTypeImage);\r\n  })();\r\n  popupImage.src = link;\r\n  popupImage.alt = name;\r\n}\r\n\r\nfunction setProfileInfo({ name, about, avatar }) {\r\n  profileTitle.textContent = name;\r\n  profileDescription.textContent = about;\r\n  profileAvatar.style.backgroundImage = `url(${avatar})`;\r\n}\r\nfunction setProfilePhoto({ avatar }) {\r\n  profileAvatar.style.backgroundImage = `url(${avatar})`;\r\n}\r\n\r\nformAddCard.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  showButtonLoading({ state: true, form: formAddCard });\r\n  postNewCard({ name: cardNamePlace.value, link: cardImageLink.value })\r\n    .then((cardData) => {\r\n      const card = createCard({\r\n        cardTemplate,\r\n        cardData,\r\n        openImagePopup,\r\n        onCardDelete: deleteCard,\r\n        onLikeCard: likeCard,\r\n        myId: cardData.owner['_id'],\r\n      });\r\n      cardList.prepend(card);\r\n      formAddCard.reset();\r\n      closeModal(popupTypeNewCard);\r\n    })\r\n    .finally(() => showButtonLoading({ state: false, form: formAddCard }));\r\n});\r\n\r\nformEditProfile.addEventListener('submit', (e) => {\r\n  showButtonLoading({ state: true, form: formEditProfile });\r\n  e.preventDefault();\r\n  patchProfileSection({ name: nameInput.value, about: jobInput.value })\r\n    .then(({ name, about, avatar }) => {\r\n      setProfileInfo({\r\n        name,\r\n        about,\r\n        avatar,\r\n      });\r\n      closeModal(popupTypeEdit);\r\n    })\r\n    .catch((err) => console.log(err))\r\n    .finally(() => showButtonLoading({ state: false, form: formEditProfile }));\r\n  closeModal(popupTypeEdit);\r\n});\r\n\r\nformChangeProfileImage.addEventListener('submit', (e) => {\r\n  showButtonLoading({ state: true, form: formChangeProfileImage });\r\n  e.preventDefault();\r\n\r\n  patchProfilePhoto(profileImageLink.value)\r\n    .then(({ name, about, avatar }) => {\r\n      setProfilePhoto({ avatar });\r\n      closeModal(popupTypeEditAvatar);\r\n    })\r\n    .catch((err) => {\r\n      console.error(`Ошибка:, ${err}`);\r\n      closeModal(popupTypeEditAvatar);\r\n    })\r\n    .finally(() =>\r\n      showButtonLoading({ state: false, form: formChangeProfileImage })\r\n    );\r\n});\r\n\r\naddButton.addEventListener('click', () => {\r\n  formAddCard.reset();\r\n  clearValidation(formAddCard, validationConfig);\r\n  openModal(popupTypeNewCard);\r\n});\r\n\r\neditButton.addEventListener('click', () => {\r\n  nameInput.value = profileTitle.textContent;\r\n  jobInput.value = profileDescription.textContent;\r\n  clearValidation(formEditProfile, validationConfig);\r\n  openModal(popupTypeEdit);\r\n});\r\n\r\nprofileAvatar.addEventListener('click', () => {\r\n  formChangeProfileImage.reset();\r\n  clearValidation(formChangeProfileImage, validationConfig);\r\n  openModal(popupTypeEditAvatar);\r\n});\r\n\r\nPromise.all([getProfileData(), getInitialCards()])\r\n  .then(([{ name, avatar, about, _id }, cardData]) => {\r\n    setProfileInfo({ name, avatar, about });\r\n    cardData.forEach((card) => {\r\n      buildCardElement(_id, card);\r\n    });\r\n  })\r\n  .catch((err) => {\r\n    console.error(`Ошибка:, ${err}`);\r\n  });\r\n\r\nenableValidation(validationConfig);\r\n"],"names":["createCard","_ref","cardTemplate","cardData","openImagePopup","onCardDelete","onLikeCard","myId","card","querySelector","cloneNode","cardTitle","cardImage","deleteButton","likeButton","likeCount","addEventListener","link","name","cardId","counter","buttonElement","owner","_id","classList","add","cardElement","likes","length","textContent","setAttribute","forEach","likeOwner","config","baseUrl","headers","authorization","isResponse","res","ok","json","Promise","reject","concat","status","openModal","popup","document","closeEscPopup","closeModal","remove","removeEventListener","e","key","hideValidation","_ref2","formElement","inputElement","inputErorrClass","errorClass","errorElement","id","toggleButton","_ref4","inputList","submitButtonElement","inactiveButtonClass","some","input","validity","valid","disabled","clearValidation","_ref7","submitButtonSelector","inputSelector","inputErrorClass","Array","from","querySelectorAll","_ref6","formSelector","content","cardList","profileSection","editButton","addButton","profileTitle","profileDescription","profileAvatar","popups","popupTypeImage","popupTypeNewCard","popupTypeEdit","popupTypeEditAvatar","closePopupButton","popupImage","popupImageCaption","popupConfirmDelete","formEditProfile","forms","nameInput","jobInput","formAddCard","cardNamePlace","cardImageLink","formChangeProfileImage","profileImageLink","conifirmForm","validationConfig","showButtonLoading","state","form","deleteCard","deleteCardSubmit","preventDefault","fetch","method","then","deleteMyCard","closest","catch","err","console","error","finally","likeCard","_ref3","contains","deleteLikeCard","_ref5","toggle","putLikeCard","src","alt","setProfileInfo","about","avatar","style","backgroundImage","target","button","value","body","JSON","stringify","prepend","reset","_ref9","log","_ref10","_ref8","all","_ref11","_ref12","_ref12$","append","buildCardElement","patternMismatch","setCustomValidity","dataset","errorMessage","showValidation","validationMessage","checkInputValidity","setEvents"],"sourceRoot":""}